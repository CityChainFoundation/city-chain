<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Class PosMinting
   | City Chain: Developer Reference </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Class PosMinting
   | City Chain: Developer Reference ">
    <meta name="generator" content="docfx 2.56.5.0">
    
    <link rel="shortcut icon" href="../images/favicon.ico">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="svg" src="../images/icon.png" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="Stratis.Bitcoin.Features.Miner.Staking.PosMinting">
  
  
  <h1 id="Stratis_Bitcoin_Features_Miner_Staking_PosMinting" data-uid="Stratis.Bitcoin.Features.Miner.Staking.PosMinting" class="text-break">Class PosMinting
  </h1>
  <div class="markdown level0 summary"><p><a class="xref" href="Stratis.Bitcoin.Features.Miner.Staking.PosMinting.html">PosMinting</a> is used in order to generate new blocks. It involves a sort of lottery, similar to proof-of-work,
but the chances of winning this lottery is proportional to how many coins you are staking, not on hashing power.</p>
</div>
  <div class="markdown level0 conceptual"></div>
  <div class="inheritance">
    <h5>Inheritance</h5>
    <div class="level0"><span class="xref">System.Object</span></div>
    <div class="level1"><span class="xref">PosMinting</span></div>
  </div>
  <div classs="implements">
    <h5>Implements</h5>
    <div><a class="xref" href="Stratis.Bitcoin.Features.Miner.Interfaces.IPosMinting.html">IPosMinting</a></div>
  </div>
  <h6><strong>Namespace</strong>: <a class="xref" href="Stratis.Bitcoin.Features.Miner.Staking.html">Stratis.Bitcoin.Features.Miner.Staking</a></h6>
  <h6><strong>Assembly</strong>: Stratis.Bitcoin.Features.Miner.dll</h6>
  <h5 id="Stratis_Bitcoin_Features_Miner_Staking_PosMinting_syntax">Syntax</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public class PosMinting : object, IPosMinting</code></pre>
  </div>
  <h5 id="Stratis_Bitcoin_Features_Miner_Staking_PosMinting_remarks"><strong>Remarks</strong></h5>
  <div class="markdown level0 remarks"><p>Staking is attempted only if the node is fully synchronized and connected to the network.
If not it will wait till node is synced. Only transactions that were confirmed at least
<see cref="!:PosConsensusOptions.GetStakeMinConfirmations(int, Network)"></see> blocks ago are eligible for staking.</p>
<p>
The overall process for &quot;attempting&quot; to mine a PoS block looks like this:
<ol><li></li><li></li><li></li><li></li><li></li></ol>
</p>
<p>
Coinstake transaction invalidates previous inputs and spends the inputs to new outputs with the additional stake reward.
</p>
<p>
The purpose of stake modifier is to prevent a UTXO owner from computing future proof-of-stake
generated by this UTXO at the time of transaction confirmation. As described above, the stake modifier
is included in the hash that must meet the difficulty target. As the stake modifier changes with each block
and the new value depends on the kernel, it is hard to predict its value in the future.
</p>
</div>
  <h3 id="constructors">Constructors
  </h3>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/CityChainFoundation/city-chain/new/master/docs-ref-overwrite/new?filename=Stratis_Bitcoin_Features_Miner_Staking_PosMinting__ctor_Stratis_Bitcoin_Mining_IBlockProvider_Stratis_Bitcoin_Consensus_IConsensusManager_NBitcoin_ChainIndexer_NBitcoin_Network_Stratis_Bitcoin_Utilities_IDateTimeProvider_Stratis_Bitcoin_Interfaces_IInitialBlockDownloadState_Stratis_Bitcoin_Utilities_INodeLifetime_ICoinView_IStakeChain_IStakeValidator_Stratis_Bitcoin_Features_MemoryPool_MempoolSchedulerLock_Stratis_Bitcoin_Features_MemoryPool_Interfaces_ITxMempool_Stratis_Bitcoin_Features_Wallet_Interfaces_IWalletManager_Stratis_Bitcoin_AsyncWork_IAsyncProvider_Stratis_Bitcoin_Base_ITimeSyncBehaviorState_ILoggerFactory_Stratis_Bitcoin_Features_Miner_MinerSettings_.md&amp;value=---%0Auid%3A%20Stratis.Bitcoin.Features.Miner.Staking.PosMinting.%23ctor(Stratis.Bitcoin.Mining.IBlockProvider%2CStratis.Bitcoin.Consensus.IConsensusManager%2CNBitcoin.ChainIndexer%2CNBitcoin.Network%2CStratis.Bitcoin.Utilities.IDateTimeProvider%2CStratis.Bitcoin.Interfaces.IInitialBlockDownloadState%2CStratis.Bitcoin.Utilities.INodeLifetime%2CICoinView%2CIStakeChain%2CIStakeValidator%2CStratis.Bitcoin.Features.MemoryPool.MempoolSchedulerLock%2CStratis.Bitcoin.Features.MemoryPool.Interfaces.ITxMempool%2CStratis.Bitcoin.Features.Wallet.Interfaces.IWalletManager%2CStratis.Bitcoin.AsyncWork.IAsyncProvider%2CStratis.Bitcoin.Base.ITimeSyncBehaviorState%2CILoggerFactory%2CStratis.Bitcoin.Features.Miner.MinerSettings)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/CityChainFoundation/city-chain/blob/master/src/Stratis.Bitcoin.Features.Miner/Staking/PosMinting.cs/#L218">View Source</a>
  </span>
  <a id="Stratis_Bitcoin_Features_Miner_Staking_PosMinting__ctor_" data-uid="Stratis.Bitcoin.Features.Miner.Staking.PosMinting.#ctor*"></a>
  <h4 id="Stratis_Bitcoin_Features_Miner_Staking_PosMinting__ctor_Stratis_Bitcoin_Mining_IBlockProvider_Stratis_Bitcoin_Consensus_IConsensusManager_NBitcoin_ChainIndexer_NBitcoin_Network_Stratis_Bitcoin_Utilities_IDateTimeProvider_Stratis_Bitcoin_Interfaces_IInitialBlockDownloadState_Stratis_Bitcoin_Utilities_INodeLifetime_ICoinView_IStakeChain_IStakeValidator_Stratis_Bitcoin_Features_MemoryPool_MempoolSchedulerLock_Stratis_Bitcoin_Features_MemoryPool_Interfaces_ITxMempool_Stratis_Bitcoin_Features_Wallet_Interfaces_IWalletManager_Stratis_Bitcoin_AsyncWork_IAsyncProvider_Stratis_Bitcoin_Base_ITimeSyncBehaviorState_ILoggerFactory_Stratis_Bitcoin_Features_Miner_MinerSettings_" data-uid="Stratis.Bitcoin.Features.Miner.Staking.PosMinting.#ctor(Stratis.Bitcoin.Mining.IBlockProvider,Stratis.Bitcoin.Consensus.IConsensusManager,NBitcoin.ChainIndexer,NBitcoin.Network,Stratis.Bitcoin.Utilities.IDateTimeProvider,Stratis.Bitcoin.Interfaces.IInitialBlockDownloadState,Stratis.Bitcoin.Utilities.INodeLifetime,ICoinView,IStakeChain,IStakeValidator,Stratis.Bitcoin.Features.MemoryPool.MempoolSchedulerLock,Stratis.Bitcoin.Features.MemoryPool.Interfaces.ITxMempool,Stratis.Bitcoin.Features.Wallet.Interfaces.IWalletManager,Stratis.Bitcoin.AsyncWork.IAsyncProvider,Stratis.Bitcoin.Base.ITimeSyncBehaviorState,ILoggerFactory,Stratis.Bitcoin.Features.Miner.MinerSettings)">PosMinting(IBlockProvider, IConsensusManager, ChainIndexer, Network, IDateTimeProvider, IInitialBlockDownloadState, INodeLifetime, ICoinView, IStakeChain, IStakeValidator, MempoolSchedulerLock, ITxMempool, IWalletManager, IAsyncProvider, ITimeSyncBehaviorState, ILoggerFactory, MinerSettings)</h4>
  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public PosMinting(IBlockProvider blockProvider, IConsensusManager consensusManager, ChainIndexer chainIndexer, Network network, IDateTimeProvider dateTimeProvider, IInitialBlockDownloadState initialBlockDownloadState, INodeLifetime nodeLifetime, ICoinView coinView, IStakeChain stakeChain, IStakeValidator stakeValidator, MempoolSchedulerLock mempoolLock, ITxMempool mempool, IWalletManager walletManager, IAsyncProvider asyncProvider, ITimeSyncBehaviorState timeSyncBehaviorState, ILoggerFactory loggerFactory, MinerSettings minerSettings)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Stratis.Bitcoin.Mining.IBlockProvider.html">IBlockProvider</a></td>
        <td><span class="parametername">blockProvider</span></td>
        <td></td>
      </tr>
      <tr>
        <td><a class="xref" href="Stratis.Bitcoin.Consensus.IConsensusManager.html">IConsensusManager</a></td>
        <td><span class="parametername">consensusManager</span></td>
        <td></td>
      </tr>
      <tr>
        <td><a class="xref" href="NBitcoin.ChainIndexer.html">ChainIndexer</a></td>
        <td><span class="parametername">chainIndexer</span></td>
        <td></td>
      </tr>
      <tr>
        <td><a class="xref" href="NBitcoin.Network.html">Network</a></td>
        <td><span class="parametername">network</span></td>
        <td></td>
      </tr>
      <tr>
        <td><a class="xref" href="Stratis.Bitcoin.Utilities.IDateTimeProvider.html">IDateTimeProvider</a></td>
        <td><span class="parametername">dateTimeProvider</span></td>
        <td></td>
      </tr>
      <tr>
        <td><a class="xref" href="Stratis.Bitcoin.Interfaces.IInitialBlockDownloadState.html">IInitialBlockDownloadState</a></td>
        <td><span class="parametername">initialBlockDownloadState</span></td>
        <td></td>
      </tr>
      <tr>
        <td><a class="xref" href="Stratis.Bitcoin.Utilities.INodeLifetime.html">INodeLifetime</a></td>
        <td><span class="parametername">nodeLifetime</span></td>
        <td></td>
      </tr>
      <tr>
        <td><span class="xref">ICoinView</span></td>
        <td><span class="parametername">coinView</span></td>
        <td></td>
      </tr>
      <tr>
        <td><span class="xref">IStakeChain</span></td>
        <td><span class="parametername">stakeChain</span></td>
        <td></td>
      </tr>
      <tr>
        <td><span class="xref">IStakeValidator</span></td>
        <td><span class="parametername">stakeValidator</span></td>
        <td></td>
      </tr>
      <tr>
        <td><a class="xref" href="Stratis.Bitcoin.Features.MemoryPool.MempoolSchedulerLock.html">MempoolSchedulerLock</a></td>
        <td><span class="parametername">mempoolLock</span></td>
        <td></td>
      </tr>
      <tr>
        <td><a class="xref" href="Stratis.Bitcoin.Features.MemoryPool.Interfaces.ITxMempool.html">ITxMempool</a></td>
        <td><span class="parametername">mempool</span></td>
        <td></td>
      </tr>
      <tr>
        <td><a class="xref" href="Stratis.Bitcoin.Features.Wallet.Interfaces.IWalletManager.html">IWalletManager</a></td>
        <td><span class="parametername">walletManager</span></td>
        <td></td>
      </tr>
      <tr>
        <td><a class="xref" href="Stratis.Bitcoin.AsyncWork.IAsyncProvider.html">IAsyncProvider</a></td>
        <td><span class="parametername">asyncProvider</span></td>
        <td></td>
      </tr>
      <tr>
        <td><a class="xref" href="Stratis.Bitcoin.Base.ITimeSyncBehaviorState.html">ITimeSyncBehaviorState</a></td>
        <td><span class="parametername">timeSyncBehaviorState</span></td>
        <td></td>
      </tr>
      <tr>
        <td><span class="xref">ILoggerFactory</span></td>
        <td><span class="parametername">loggerFactory</span></td>
        <td></td>
      </tr>
      <tr>
        <td><a class="xref" href="Stratis.Bitcoin.Features.Miner.MinerSettings.html">MinerSettings</a></td>
        <td><span class="parametername">minerSettings</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h3 id="fields">Fields
  </h3>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/CityChainFoundation/city-chain/new/master/docs-ref-overwrite/new?filename=Stratis_Bitcoin_Features_Miner_Staking_PosMinting_CoinstakeSplitEnabled.md&amp;value=---%0Auid%3A%20Stratis.Bitcoin.Features.Miner.Staking.PosMinting.CoinstakeSplitEnabled%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/CityChainFoundation/city-chain/blob/master/src/Stratis.Bitcoin.Features.Miner/Staking/PosMinting.cs/#L91">View Source</a>
  </span>
  <h4 id="Stratis_Bitcoin_Features_Miner_Staking_PosMinting_CoinstakeSplitEnabled" data-uid="Stratis.Bitcoin.Features.Miner.Staking.PosMinting.CoinstakeSplitEnabled">CoinstakeSplitEnabled</h4>
  <div class="markdown level1 summary"><p><code>true</code> if coinstake transaction splits the coin and generates extra UTXO
to prevent halting chain; <code>false</code> to disable coinstake splitting.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public readonly bool CoinstakeSplitEnabled</code></pre>
  </div>
  <h5 class="fieldValue">Field Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Boolean</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/CityChainFoundation/city-chain/new/master/docs-ref-overwrite/new?filename=Stratis_Bitcoin_Features_Miner_Staking_PosMinting_CoinstakeSplitLimitMultiplier.md&amp;value=---%0Auid%3A%20Stratis.Bitcoin.Features.Miner.Staking.PosMinting.CoinstakeSplitLimitMultiplier%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/CityChainFoundation/city-chain/blob/master/src/Stratis.Bitcoin.Features.Miner/Staking/PosMinting.cs/#L96">View Source</a>
  </span>
  <h4 id="Stratis_Bitcoin_Features_Miner_Staking_PosMinting_CoinstakeSplitLimitMultiplier" data-uid="Stratis.Bitcoin.Features.Miner.Staking.PosMinting.CoinstakeSplitLimitMultiplier">CoinstakeSplitLimitMultiplier</h4>
  <div class="markdown level1 summary"><p>If <a class="xref" href="Stratis.Bitcoin.Features.Miner.Staking.PosMinting.html#Stratis_Bitcoin_Features_Miner_Staking_PosMinting_CoinstakeSplitEnabled">CoinstakeSplitEnabled</a> is set, the coinstake will be split if
the number of non-empty UTXOs in the wallet is lower than the required coin age for staking plus 1,
multiplied by this value. See <see cref="!:GetSplitStake(int, ChainedHeader)"></see>.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public const int CoinstakeSplitLimitMultiplier = null</code></pre>
  </div>
  <h5 class="fieldValue">Field Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Int32</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/CityChainFoundation/city-chain/new/master/docs-ref-overwrite/new?filename=Stratis_Bitcoin_Features_Miner_Staking_PosMinting_MaxBlockSize.md&amp;value=---%0Auid%3A%20Stratis.Bitcoin.Features.Miner.Staking.PosMinting.MaxBlockSize%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/CityChainFoundation/city-chain/blob/master/src/Stratis.Bitcoin.Features.Miner/Staking/PosMinting.cs/#L81">View Source</a>
  </span>
  <h4 id="Stratis_Bitcoin_Features_Miner_Staking_PosMinting_MaxBlockSize" data-uid="Stratis.Bitcoin.Features.Miner.Staking.PosMinting.MaxBlockSize">MaxBlockSize</h4>
  <div class="markdown level1 summary"><p>The maximum allowed size for a serialized block, in bytes (network rule).</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public const int MaxBlockSize = null</code></pre>
  </div>
  <h5 class="fieldValue">Field Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Int32</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/CityChainFoundation/city-chain/new/master/docs-ref-overwrite/new?filename=Stratis_Bitcoin_Features_Miner_Staking_PosMinting_MaxBlockSizeGen.md&amp;value=---%0Auid%3A%20Stratis.Bitcoin.Features.Miner.Staking.PosMinting.MaxBlockSizeGen%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/CityChainFoundation/city-chain/blob/master/src/Stratis.Bitcoin.Features.Miner/Staking/PosMinting.cs/#L84">View Source</a>
  </span>
  <h4 id="Stratis_Bitcoin_Features_Miner_Staking_PosMinting_MaxBlockSizeGen" data-uid="Stratis.Bitcoin.Features.Miner.Staking.PosMinting.MaxBlockSizeGen">MaxBlockSizeGen</h4>
  <div class="markdown level1 summary"><p>The maximum size for mined blocks.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public const int MaxBlockSizeGen = null</code></pre>
  </div>
  <h5 class="fieldValue">Field Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Int32</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/CityChainFoundation/city-chain/new/master/docs-ref-overwrite/new?filename=Stratis_Bitcoin_Features_Miner_Staking_PosMinting_mempool.md&amp;value=---%0Auid%3A%20Stratis.Bitcoin.Features.Miner.Staking.PosMinting.mempool%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/CityChainFoundation/city-chain/blob/master/src/Stratis.Bitcoin.Features.Miner/Staking/PosMinting.cs/#L174">View Source</a>
  </span>
  <h4 id="Stratis_Bitcoin_Features_Miner_Staking_PosMinting_mempool" data-uid="Stratis.Bitcoin.Features.Miner.Staking.PosMinting.mempool">mempool</h4>
  <div class="markdown level1 summary"><p>Memory pool of pending transactions.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">protected readonly ITxMempool mempool</code></pre>
  </div>
  <h5 class="fieldValue">Field Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Stratis.Bitcoin.Features.MemoryPool.Interfaces.ITxMempool.html">ITxMempool</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/CityChainFoundation/city-chain/new/master/docs-ref-overwrite/new?filename=Stratis_Bitcoin_Features_Miner_Staking_PosMinting_mempoolLock.md&amp;value=---%0Auid%3A%20Stratis.Bitcoin.Features.Miner.Staking.PosMinting.mempoolLock%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/CityChainFoundation/city-chain/blob/master/src/Stratis.Bitcoin.Features.Miner/Staking/PosMinting.cs/#L171">View Source</a>
  </span>
  <h4 id="Stratis_Bitcoin_Features_Miner_Staking_PosMinting_mempoolLock" data-uid="Stratis.Bitcoin.Features.Miner.Staking.PosMinting.mempoolLock">mempoolLock</h4>
  <div class="markdown level1 summary"><p>A lock for managing asynchronous access to memory pool.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">protected readonly MempoolSchedulerLock mempoolLock</code></pre>
  </div>
  <h5 class="fieldValue">Field Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Stratis.Bitcoin.Features.MemoryPool.MempoolSchedulerLock.html">MempoolSchedulerLock</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/CityChainFoundation/city-chain/new/master/docs-ref-overwrite/new?filename=Stratis_Bitcoin_Features_Miner_Staking_PosMinting_MinimumStakingCoinValue.md&amp;value=---%0Auid%3A%20Stratis.Bitcoin.Features.Miner.Staking.PosMinting.MinimumStakingCoinValue%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/CityChainFoundation/city-chain/blob/master/src/Stratis.Bitcoin.Features.Miner/Staking/PosMinting.cs/#L150">View Source</a>
  </span>
  <h4 id="Stratis_Bitcoin_Features_Miner_Staking_PosMinting_MinimumStakingCoinValue" data-uid="Stratis.Bitcoin.Features.Miner.Staking.PosMinting.MinimumStakingCoinValue">MinimumStakingCoinValue</h4>
  <div class="markdown level1 summary"><p>We don't stake coins that are smaller than 0.1 in order to save on CPU as these have a very small chance to be used
to generate a block anyway.
<seealso cref="!:https://github.com/stratisproject/StratisBitcoinFullNode/issues/1180"></seealso></p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public readonly ulong MinimumStakingCoinValue</code></pre>
  </div>
  <h5 class="fieldValue">Field Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.UInt64</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/CityChainFoundation/city-chain/new/master/docs-ref-overwrite/new?filename=Stratis_Bitcoin_Features_Miner_Staking_PosMinting_ValidStakingTemplates.md&amp;value=---%0Auid%3A%20Stratis.Bitcoin.Features.Miner.Staking.PosMinting.ValidStakingTemplates%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/CityChainFoundation/city-chain/blob/master/src/Stratis.Bitcoin.Features.Miner/Staking/PosMinting.cs/#L177">View Source</a>
  </span>
  <h4 id="Stratis_Bitcoin_Features_Miner_Staking_PosMinting_ValidStakingTemplates" data-uid="Stratis.Bitcoin.Features.Miner.Staking.PosMinting.ValidStakingTemplates">ValidStakingTemplates</h4>
  <div class="markdown level1 summary"><p>Script types that can participate in staking.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public Dictionary&lt;string, ScriptTemplate&gt; ValidStakingTemplates</code></pre>
  </div>
  <h5 class="fieldValue">Field Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">Dictionary</span>&lt;<span class="xref">System.String</span>, <a class="xref" href="NBitcoin.ScriptTemplate.html">ScriptTemplate</a>&gt;</td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h3 id="methods">Methods
  </h3>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/CityChainFoundation/city-chain/new/master/docs-ref-overwrite/new?filename=Stratis_Bitcoin_Features_Miner_Staking_PosMinting_CreateCoinstakeAsync_List_Stratis_Bitcoin_Features_Miner_Staking_UtxoStakeDescription__Stratis_Bitcoin_Mining_BlockTemplate_NBitcoin_ChainedHeader_System_Int64_System_Int64_Stratis_Bitcoin_Features_Miner_Staking_CoinstakeContext_.md&amp;value=---%0Auid%3A%20Stratis.Bitcoin.Features.Miner.Staking.PosMinting.CreateCoinstakeAsync(List%7BStratis.Bitcoin.Features.Miner.Staking.UtxoStakeDescription%7D%2CStratis.Bitcoin.Mining.BlockTemplate%2CNBitcoin.ChainedHeader%2CSystem.Int64%2CSystem.Int64%2CStratis.Bitcoin.Features.Miner.Staking.CoinstakeContext)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/CityChainFoundation/city-chain/blob/master/src/Stratis.Bitcoin.Features.Miner/Staking/PosMinting.cs/#L591">View Source</a>
  </span>
  <a id="Stratis_Bitcoin_Features_Miner_Staking_PosMinting_CreateCoinstakeAsync_" data-uid="Stratis.Bitcoin.Features.Miner.Staking.PosMinting.CreateCoinstakeAsync*"></a>
  <h4 id="Stratis_Bitcoin_Features_Miner_Staking_PosMinting_CreateCoinstakeAsync_List_Stratis_Bitcoin_Features_Miner_Staking_UtxoStakeDescription__Stratis_Bitcoin_Mining_BlockTemplate_NBitcoin_ChainedHeader_System_Int64_System_Int64_Stratis_Bitcoin_Features_Miner_Staking_CoinstakeContext_" data-uid="Stratis.Bitcoin.Features.Miner.Staking.PosMinting.CreateCoinstakeAsync(List{Stratis.Bitcoin.Features.Miner.Staking.UtxoStakeDescription},Stratis.Bitcoin.Mining.BlockTemplate,NBitcoin.ChainedHeader,System.Int64,System.Int64,Stratis.Bitcoin.Features.Miner.Staking.CoinstakeContext)">CreateCoinstakeAsync(List&lt;UtxoStakeDescription&gt;, BlockTemplate, ChainedHeader, Int64, Int64, CoinstakeContext)</h4>
  <div class="markdown level1 summary"><p>Creates a coinstake transaction with kernel that satisfies POS staking target.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public Task&lt;bool&gt; CreateCoinstakeAsync(List&lt;UtxoStakeDescription&gt; utxoStakeDescriptions, BlockTemplate blockTemplate, ChainedHeader chainTip, long searchInterval, long fees, CoinstakeContext coinstakeContext)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">List</span>&lt;<a class="xref" href="Stratis.Bitcoin.Features.Miner.Staking.UtxoStakeDescription.html">UtxoStakeDescription</a>&gt;</td>
        <td><span class="parametername">utxoStakeDescriptions</span></td>
        <td><p>List of UTXOs that are available in the wallet for staking.</p>
</td>
      </tr>
      <tr>
        <td><a class="xref" href="Stratis.Bitcoin.Mining.BlockTemplate.html">BlockTemplate</a></td>
        <td><span class="parametername">blockTemplate</span></td>
        <td><p>Template of the block that we are trying to stake.</p>
</td>
      </tr>
      <tr>
        <td><a class="xref" href="NBitcoin.ChainedHeader.html">ChainedHeader</a></td>
        <td><span class="parametername">chainTip</span></td>
        <td><p>Tip of the best chain.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.Int64</span></td>
        <td><span class="parametername">searchInterval</span></td>
        <td><p>Length of an unexplored block time space in seconds. It only makes sense to look for a solution within this interval.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">System.Int64</span></td>
        <td><span class="parametername">fees</span></td>
        <td><p>Transaction fees from the transactions included in the block if we stake it.</p>
</td>
      </tr>
      <tr>
        <td><a class="xref" href="Stratis.Bitcoin.Features.Miner.Staking.CoinstakeContext.html">CoinstakeContext</a></td>
        <td><span class="parametername">coinstakeContext</span></td>
        <td><p>Information about coinstake transaction and its private key that is to be filled when the kernel is found.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">Task</span>&lt;<span class="xref">System.Boolean</span>&gt;</td>
        <td><p><code>true</code> if the function succeeds, <code>false</code> otherwise.</p>
</td>
      </tr>
    </tbody>
  </table>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/CityChainFoundation/city-chain/new/master/docs-ref-overwrite/new?filename=Stratis_Bitcoin_Features_Miner_Staking_PosMinting_GenerateBlocksAsync_Stratis_Bitcoin_Features_Miner_Staking_WalletSecret_CancellationToken_.md&amp;value=---%0Auid%3A%20Stratis.Bitcoin.Features.Miner.Staking.PosMinting.GenerateBlocksAsync(Stratis.Bitcoin.Features.Miner.Staking.WalletSecret%2CCancellationToken)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/CityChainFoundation/city-chain/blob/master/src/Stratis.Bitcoin.Features.Miner/Staking/PosMinting.cs/#L354">View Source</a>
  </span>
  <a id="Stratis_Bitcoin_Features_Miner_Staking_PosMinting_GenerateBlocksAsync_" data-uid="Stratis.Bitcoin.Features.Miner.Staking.PosMinting.GenerateBlocksAsync*"></a>
  <h4 id="Stratis_Bitcoin_Features_Miner_Staking_PosMinting_GenerateBlocksAsync_Stratis_Bitcoin_Features_Miner_Staking_WalletSecret_CancellationToken_" data-uid="Stratis.Bitcoin.Features.Miner.Staking.PosMinting.GenerateBlocksAsync(Stratis.Bitcoin.Features.Miner.Staking.WalletSecret,CancellationToken)">GenerateBlocksAsync(WalletSecret, CancellationToken)</h4>
  <div class="markdown level1 summary"><p>Attempts to stake new blocks in a loop.</p>
<p>
Staking is attempted only if the node is fully synchronized and connected to the network.
</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public Task GenerateBlocksAsync(WalletSecret walletSecret, CancellationToken cancellationToken)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Stratis.Bitcoin.Features.Miner.Staking.WalletSecret.html">WalletSecret</a></td>
        <td><span class="parametername">walletSecret</span></td>
        <td><p>Credentials to the wallet with which will be used for staking.</p>
</td>
      </tr>
      <tr>
        <td><span class="xref">CancellationToken</span></td>
        <td><span class="parametername">cancellationToken</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">Task</span></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/CityChainFoundation/city-chain/new/master/docs-ref-overwrite/new?filename=Stratis_Bitcoin_Features_Miner_Staking_PosMinting_GetDifficulty_NBitcoin_ChainedHeader_.md&amp;value=---%0Auid%3A%20Stratis.Bitcoin.Features.Miner.Staking.PosMinting.GetDifficulty(NBitcoin.ChainedHeader)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/CityChainFoundation/city-chain/blob/master/src/Stratis.Bitcoin.Features.Miner/Staking/PosMinting.cs/#L1062">View Source</a>
  </span>
  <a id="Stratis_Bitcoin_Features_Miner_Staking_PosMinting_GetDifficulty_" data-uid="Stratis.Bitcoin.Features.Miner.Staking.PosMinting.GetDifficulty*"></a>
  <h4 id="Stratis_Bitcoin_Features_Miner_Staking_PosMinting_GetDifficulty_NBitcoin_ChainedHeader_" data-uid="Stratis.Bitcoin.Features.Miner.Staking.PosMinting.GetDifficulty(NBitcoin.ChainedHeader)">GetDifficulty(ChainedHeader)</h4>
  <div class="markdown level1 summary"><p>Calculates staking difficulty for a specific block.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public double GetDifficulty(ChainedHeader block)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="NBitcoin.ChainedHeader.html">ChainedHeader</a></td>
        <td><span class="parametername">block</span></td>
        <td><p>Block at which to calculate the difficulty.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Double</span></td>
        <td><p>Staking difficulty.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 id="Stratis_Bitcoin_Features_Miner_Staking_PosMinting_GetDifficulty_NBitcoin_ChainedHeader__remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>The actual idea behind the calculation is a mystery. It was simply ported from
<see cref="!:https://github.com/stratisproject/stratisX/blob/47851b7337f528f52ec20e86dca7dcead8191cf5/src/rpcblockchain.cpp#L16"></see>.</p>
</div>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/CityChainFoundation/city-chain/new/master/docs-ref-overwrite/new?filename=Stratis_Bitcoin_Features_Miner_Staking_PosMinting_GetGetStakingInfoModel.md&amp;value=---%0Auid%3A%20Stratis.Bitcoin.Features.Miner.Staking.PosMinting.GetGetStakingInfoModel%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/CityChainFoundation/city-chain/blob/master/src/Stratis.Bitcoin.Features.Miner/Staking/PosMinting.cs/#L1142">View Source</a>
  </span>
  <a id="Stratis_Bitcoin_Features_Miner_Staking_PosMinting_GetGetStakingInfoModel_" data-uid="Stratis.Bitcoin.Features.Miner.Staking.PosMinting.GetGetStakingInfoModel*"></a>
  <h4 id="Stratis_Bitcoin_Features_Miner_Staking_PosMinting_GetGetStakingInfoModel" data-uid="Stratis.Bitcoin.Features.Miner.Staking.PosMinting.GetGetStakingInfoModel">GetGetStakingInfoModel()</h4>
  <div class="markdown level1 summary"><p>Constructs model for RPC &quot;getstakinginfo&quot; call.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public GetStakingInfoModel GetGetStakingInfoModel()</code></pre>
  </div>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Stratis.Bitcoin.Features.Miner.Models.GetStakingInfoModel.html">GetStakingInfoModel</a></td>
        <td><p>Staking information RPC response.</p>
</td>
      </tr>
    </tbody>
  </table>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/CityChainFoundation/city-chain/new/master/docs-ref-overwrite/new?filename=Stratis_Bitcoin_Features_Miner_Staking_PosMinting_GetMatureBalanceAsync_List_Stratis_Bitcoin_Features_Miner_Staking_UtxoStakeDescription__.md&amp;value=---%0Auid%3A%20Stratis.Bitcoin.Features.Miner.Staking.PosMinting.GetMatureBalanceAsync(List%7BStratis.Bitcoin.Features.Miner.Staking.UtxoStakeDescription%7D)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/CityChainFoundation/city-chain/blob/master/src/Stratis.Bitcoin.Features.Miner/Staking/PosMinting.cs/#L927">View Source</a>
  </span>
  <a id="Stratis_Bitcoin_Features_Miner_Staking_PosMinting_GetMatureBalanceAsync_" data-uid="Stratis.Bitcoin.Features.Miner.Staking.PosMinting.GetMatureBalanceAsync*"></a>
  <h4 id="Stratis_Bitcoin_Features_Miner_Staking_PosMinting_GetMatureBalanceAsync_List_Stratis_Bitcoin_Features_Miner_Staking_UtxoStakeDescription__" data-uid="Stratis.Bitcoin.Features.Miner.Staking.PosMinting.GetMatureBalanceAsync(List{Stratis.Bitcoin.Features.Miner.Staking.UtxoStakeDescription})">GetMatureBalanceAsync(List&lt;UtxoStakeDescription&gt;)</h4>
  <div class="markdown level1 summary"><p>Calculates the total balance from all UTXOs in the wallet that are mature.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public Task&lt;(Money balance, Money immature)&gt; GetMatureBalanceAsync(List&lt;UtxoStakeDescription&gt; utxoStakeDescriptions)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">List</span>&lt;<a class="xref" href="Stratis.Bitcoin.Features.Miner.Staking.UtxoStakeDescription.html">UtxoStakeDescription</a>&gt;</td>
        <td><span class="parametername">utxoStakeDescriptions</span></td>
        <td><p>Description of coins in the wallet that will be used for staking.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">Task</span>&lt;<span class="xref">System.ValueTuple</span>&lt;<a class="xref" href="NBitcoin.Money.html">Money</a>, <a class="xref" href="NBitcoin.Money.html">Money</a>&gt;&gt;</td>
        <td><p>Total balance from all UTXOs in the wallet that are mature, and the total immature balance.</p>
</td>
      </tr>
    </tbody>
  </table>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/CityChainFoundation/city-chain/new/master/docs-ref-overwrite/new?filename=Stratis_Bitcoin_Features_Miner_Staking_PosMinting_GetNetworkWeight.md&amp;value=---%0Auid%3A%20Stratis.Bitcoin.Features.Miner.Staking.PosMinting.GetNetworkWeight%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/CityChainFoundation/city-chain/blob/master/src/Stratis.Bitcoin.Features.Miner/Staking/PosMinting.cs/#L1103">View Source</a>
  </span>
  <a id="Stratis_Bitcoin_Features_Miner_Staking_PosMinting_GetNetworkWeight_" data-uid="Stratis.Bitcoin.Features.Miner.Staking.PosMinting.GetNetworkWeight*"></a>
  <h4 id="Stratis_Bitcoin_Features_Miner_Staking_PosMinting_GetNetworkWeight" data-uid="Stratis.Bitcoin.Features.Miner.Staking.PosMinting.GetNetworkWeight">GetNetworkWeight()</h4>
  <div class="markdown level1 summary"><p>Estimates the total staking weight of the network.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public double GetNetworkWeight()</code></pre>
  </div>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Double</span></td>
        <td><p>Estimated amount of money that is used by all stakers on the network.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 id="Stratis_Bitcoin_Features_Miner_Staking_PosMinting_GetNetworkWeight_remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>The idea behind estimating the network staking weight is very similar to estimating
the total hash power of PoW network. The difficulty retarget algorithm tries to make
sure of certain distribution of the blocks over a period of time. Base on real distribution
and using the actual difficulty targets, one is able to compute how much stake was
presented on the network to generate each block.</p>
<p>
The method was ported from
<see cref="!:https://github.com/stratisproject/stratisX/blob/47851b7337f528f52ec20e86dca7dcead8191cf5/src/rpcblockchain.cpp#L74"></see>.
</p>
</div>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/CityChainFoundation/city-chain/new/master/docs-ref-overwrite/new?filename=Stratis_Bitcoin_Features_Miner_Staking_PosMinting_Stake_Stratis_Bitcoin_Features_Miner_Staking_WalletSecret_.md&amp;value=---%0Auid%3A%20Stratis.Bitcoin.Features.Miner.Staking.PosMinting.Stake(Stratis.Bitcoin.Features.Miner.Staking.WalletSecret)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/CityChainFoundation/city-chain/blob/master/src/Stratis.Bitcoin.Features.Miner/Staking/PosMinting.cs/#L271">View Source</a>
  </span>
  <a id="Stratis_Bitcoin_Features_Miner_Staking_PosMinting_Stake_" data-uid="Stratis.Bitcoin.Features.Miner.Staking.PosMinting.Stake*"></a>
  <h4 id="Stratis_Bitcoin_Features_Miner_Staking_PosMinting_Stake_Stratis_Bitcoin_Features_Miner_Staking_WalletSecret_" data-uid="Stratis.Bitcoin.Features.Miner.Staking.PosMinting.Stake(Stratis.Bitcoin.Features.Miner.Staking.WalletSecret)">Stake(WalletSecret)</h4>
  <div class="markdown level1 summary"><p>Starts the main POS staking loop.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public void Stake(WalletSecret walletSecret)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="Stratis.Bitcoin.Features.Miner.Staking.WalletSecret.html">WalletSecret</a></td>
        <td><span class="parametername">walletSecret</span></td>
        <td><p>Credentials to the wallet with which will be used for staking.</p>
</td>
      </tr>
    </tbody>
  </table>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/CityChainFoundation/city-chain/new/master/docs-ref-overwrite/new?filename=Stratis_Bitcoin_Features_Miner_Staking_PosMinting_StopStake.md&amp;value=---%0Auid%3A%20Stratis.Bitcoin.Features.Miner.Staking.PosMinting.StopStake%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/CityChainFoundation/city-chain/blob/master/src/Stratis.Bitcoin.Features.Miner/Staking/PosMinting.cs/#L334">View Source</a>
  </span>
  <a id="Stratis_Bitcoin_Features_Miner_Staking_PosMinting_StopStake_" data-uid="Stratis.Bitcoin.Features.Miner.Staking.PosMinting.StopStake*"></a>
  <h4 id="Stratis_Bitcoin_Features_Miner_Staking_PosMinting_StopStake" data-uid="Stratis.Bitcoin.Features.Miner.Staking.PosMinting.StopStake">StopStake()</h4>
  <div class="markdown level1 summary"><p>Stop the main POS staking loop.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public void StopStake()</code></pre>
  </div>
  <h3 id="implements">Implements</h3>
  <div>
      <a class="xref" href="Stratis.Bitcoin.Features.Miner.Interfaces.IPosMinting.html">IPosMinting</a>
  </div>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/CityChainFoundation/city-chain/new/master/docs-ref-overwrite/new?filename=Stratis_Bitcoin_Features_Miner_Staking_PosMinting.md&amp;value=---%0Auid%3A%20Stratis.Bitcoin.Features.Miner.Staking.PosMinting%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A" class="contribution-link">Improve this Doc</a>
                  </li>
                  <li>
                    <a href="https://github.com/CityChainFoundation/city-chain/blob/master/src/Stratis.Bitcoin.Features.Miner/Staking/PosMinting.cs/#L66" class="contribution-link">View Source</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            <a href='https://www.city-chain.org'>city-chain.org</a> | <a href='https://www.citychain.foundation'>citychain.foundation</a>
            
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
